<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Quick Start - Public Space Congestion Analyzer Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Quick Start";
        var mkdocs_page_input_path = "quick-start.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Public Space Congestion Analyzer Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">General</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="..">About</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Quick Start</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-new-simulation-scene">Creating a New Simulation Scene</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#duplicating-the-example-scene">Duplicating the Example Scene</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuring-the-new-scene">Configuring the New Scene</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setting-up-the-environment">Setting up the Environment</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#importing-objects-into-the-unity-project">Importing Objects into the Unity Project</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#placing-gameobjects-and-adding-colliders">Placing GameObjects and Adding Colliders</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#marking-gameobjects-as-static">Marking GameObjects as Static</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuring-gameobjects-for-the-nav-mesh">Configuring GameObjects for the Nav Mesh</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#rebaking-the-nav-mesh">Rebaking the Nav Mesh</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configure-pathfinding-grid">Configure Pathfinding Grid</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#setting-up-the-simulation-camera">Setting up the Simulation Camera</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setting-up-waypoints">Setting up Waypoints</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#setting-up-starting-and-ending-waypoints">Setting up Starting and Ending Waypoints</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#setting-up-main-waypoints">Setting up Main Waypoints</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuring-agent-spawn-rates">Configuring Agent Spawn Rates</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pathfinding-and-queue-formation-influencing">Pathfinding and Queue Formation Influencing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#time-control">Time Control</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#metrics">Metrics</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#savingloading-simulation-recordings">Saving/Loading Simulation Recordings</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#playback-and-alerts">Playback and Alerts</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tips">Tips</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Simulation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../config/simulation/agent-spawn-config/">AgentSpawnConfig</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/simulation/waypoint-planner/">WaypointPlanner</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/simulation/penalty-area/">PenaltyArea</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/simulation/time-control/">Time Control</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/simulation/camera-controller/">CameraController</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Agents</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../config/agents/agent-manager/">AgentManager</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Waypoints</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../config/waypoints/waypoints/">Waypoint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/waypoints/waypoint-locations/">WaypointLocation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/waypoints/progression-paths/">ProgressionPath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/waypoints/rigid-waypoint-queues/">RigidWaypointQueue</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../config/waypoints/lerpable-lines/">LerpableLine</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Info-Metrics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Info</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../metrics/visualizations/">Visualizations</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Metrics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../metrics/global-metrics/">Global Metrics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metrics/specific-metrics/">Specific Metrics</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Recording and Playback</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../recording/simulation-setup/">Saving/Loading</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../recording/playback/">Playback</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Public Space Congestion Analyzer Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>General &raquo;</li><li>Quick Start</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="simulation-quick-start">Simulation Quick Start</h1>
<p>This quick start guide will teach you how to create a new simulation scene, configure new and existing simulation scenes, and run simulations!</p>
<ol>
<li><a href="#creating-a-new-simulation-scene">Creating a New Simulation Scene</a></li>
<li><a href="#setting-up-the-environment">Setting up the Environment of a New or Existing Scene</a></li>
</ol>
<p>Additional useful information:</p>
<ul>
<li><a href="#setting-up-waypoints">Setting up Waypoints</a></li>
<li><a href="#configuring-agent-spawn-rates">Configuring Agent Spawn Rates</a></li>
<li><a href="#pathfinding-and-queue-formation-influencing">Pathfinding and Queue Formation Influencing</a></li>
<li><a href="#time-control">Time Control</a></li>
<li><a href="#metrics">Metrics</a></li>
<li><a href="#savingloading-simulation-recordings">Saving and Loading Recordings of Simulations</a></li>
<li><a href="#playback-and-alerts">Playback and Alerts</a></li>
<li><a href="#tips">Tips</a></li>
</ul>
<hr />
<h2 id="creating-a-new-simulation-scene">Creating a New Simulation Scene</h2>
<p>To create a new simulation scene, simply <a href="#duplicating-the-example-scene">duplicate the example scene</a> and <a href="#configuring-the-new-scene">reconfigure the new scene</a> with the desired layout and settings.</p>
<h3 id="duplicating-the-example-scene">Duplicating the Example Scene</h3>
<p>Find the example simulation scene.  It is located in the Project Panel, under the folder named "Scenes".  The example scene is named "Main".</p>
<p>Single click on the example scene so that it is selected, and then press <code>Ctrl</code> + <code>d</code> to duplicate the scene.  A new scene icon should appear in that folder.</p>
<p>Rename the new scene to whatever is desired.  To rename a file or folder, right click on it and select "Rename", or press <code>F2</code> while it is selected.</p>
<p>To open the new scene, simply double click on it.  To verify which scene is currently active, look at the top of the hierarchy.  The current scene name will be displayed at the top of the hierarchy next to the Unity icon.</p>
<p>Once the new simulation scene has been created and loaded as the current scene, the environment can be configured.</p>
<p><em>Note: All simulations must be contained within the same Unity project, with each simulation existing in its own independent scene.<br/>To create a simulation using these tools in a brand new Unity project would require a far more detailed set up and is not within the scope of this documentation.</em></p>
<h3 id="configuring-the-new-scene">Configuring the New Scene</h3>
<p>When configuring the environment, the following GameObjects are allowed to be duplicated, moved, deleted, or otherwise changed:</p>
<ul>
<li>Blocking volumes</li>
<li>Waypoints</li>
<li>Any object that is a part of the environment (props, walls, etc.)</li>
<li><a href="../config/simulation/penalty-area/"><code>PenaltyArea</code>s</a></li>
</ul>
<p><strong>Any GameObject that is not listed above should never be moved, duplicated, or deleted.  Doing so can cause a variety of issues for that simulation scene.</strong></p>
<p>For detailed instructions on how to configure the environment, see <a href="#setting-up-the-environment">Setting up the Environment</a>.</p>
<hr />
<h2 id="setting-up-the-environment">Setting up the Environment</h2>
<p>To correctly set up the simulation environment, there are a few main steps to follow.</p>
<ol>
<li><a href="#importing-objects-into-the-unity-project">Import Objects</a></li>
<li><a href="#placing-gameobjects-and-adding-colliders">Place Objects and Add Colliders</a></li>
<li><a href="#marking-gameobjects-as-static">Mark Objects as Static</a></li>
<li><a href="#rebaking-the-nav-mesh">Rebake Nav Mesh</a></li>
<li><a href="#configure-pathfinding-grid">Configure Pathfinding Grid</a></li>
<li><a href="#setting-up-the-simulation-camera">Set Up Simulation Camera</a></li>
</ol>
<p><em>Note: Steps 3 and 4 must be preformed every time anything about the environment changes.  If an object is added, moved, or removed, ensure all objects are still static, and rebake the Nav Mesh.</em></p>
<h3 id="importing-objects-into-the-unity-project">Importing Objects into the Unity Project</h3>
<p>To import objects into the Unity project, create a folder in the Project Panel for your assets.  The folder "Raw Imports" contains the currently imported assets.</p>
<p>Right-click in the desired folder and select the "Import New Asset" menu option.  Alternatively, dragging and dropping the model's file into the Project Panel also works to import it into the project.</p>
<h3 id="placing-gameobjects-and-adding-colliders">Placing GameObjects and Adding Colliders</h3>
<p>Once the object is imported into the project, drag and drop it into the scene.  Position it, scale it, and rotate it to the desired values.</p>
<p>Once the object has been positioned, ensure that the object has a <code>Collider</code> component attached to it.  This can be done by selecting the object, and pressing the "Add Component" button near the bottom of the Inspector.</p>
<p>Objects can contain <code>SphereCollider</code>s, <code>BoxCollider</code>s, or <code>MeshCollider</code>s.  <br/><code>SphereCollider</code>s and <code>BoxCollider</code>s are recommended due to their simplicity and efficiency, so prefer these two colliders when possible.</p>
<p>If the object in question has a more complex shape, a <code>MeshCollider</code> can be used.  Read the Unity documentation for <a href="https://docs.unity3d.com/Manual/class-MeshCollider.html"><code>MeshCollider</code> components</a> to see details on how to configure the component.</p>
<p>After the desired collider has been added to the object, modify the collider to ensure it surrounds the entirety of the object.  These collision bounds will be used in following steps to ensure the object is correctly blocked out on the Nav Mesh.</p>
<h3 id="marking-gameobjects-as-static">Marking GameObjects as Static</h3>
<p>After placing your GameObjects wherever you wish to create your environment, the only requirement is that every object in the environment that should block agents from passing through it (walls, queues, pillars, food lockers, tables, chairs etc.) <strong>MUST</strong> be marked as static.  To mark any GameObject as static, ensure the <code>Static</code> checkbox is checked.  The <code>Static</code> checkbox is located in the top right corner of the inspector for the current GameObject selected, to the right of the GameObject's name textbox.</p>
<p>If the GameObject has children GameObjects, ensure those are marked as static as well.</p>
<p>Any GameObject that does not directly block agents (such as <a href="../config/simulation/penalty-area/"><code>PenaltyArea</code>s</a>) should <strong>NOT</strong> be marked as static, as this should only be done for solid, blocking objects.</p>
<h3 id="configuring-gameobjects-for-the-nav-mesh">Configuring GameObjects for the Nav Mesh</h3>
<p>After all GameObjects have been given a collider and marked as static, the next step is to ensure all objects that should block agents contain a <code>NavMeshModifier</code> component.  This component is used to tell the Nav Mesh what areas are walkable and what areas are not.
If set up correctly, the object will appear to cut out a hole in the blue walkable area of the Nav Mesh (see <a href="#rebaking-the-nav-mesh">Rebaking the Nav Mesh</a>).</p>
<p>To add a <code>NavMeshModifier</code> component to a GameObject, select the GameObject and press the "Add Component" button near the bottom of the Inspector.  Search for "Nav Mesh Modifier" and select the component.  The default values for this component do not need to be changed.</p>
<h3 id="rebaking-the-nav-mesh">Rebaking the Nav Mesh</h3>
<p>To rebake the Nav Mesh, first ensure all GameObjects in the scene that should block agents are <a href="#marking-gameobjects-as-static">marked as static</a>, <a href="#placing-gameobjects-and-adding-colliders">have colliders on them</a>, and <a href="#configuring-gameobjects-for-the-nav-mesh">have a <code>NavMeshModifier</code> component</a> attached to them.</p>
<p>Next, find the GameObject that acts as the floor for the environment.  If you're using the duplicated example scene, this object is just called "Floor".  Make sure this Floor object has both a <code>NavMeshSurface</code> and <code>NavMeshModifier</code> component attached to it.  If not, add both components to the Floor object.  The default values for these components (whether you had to add them manually or not) are fine as they are and do not need to be changed.</p>
<p>Click the Bake button at the bottom of the <code>NavMeshSurface</code> component.  If done correctly, all walkable areas should be highlighted in blue, and all non-walkable areas should not be highlighted at all.</p>
<h3 id="configure-pathfinding-grid">Configure Pathfinding Grid</h3>
<p>Once the Nav Mesh has been rebaked, the Pathfinding Grid needs to be reconfigured.  The Pathfinding Grid allows the agents to move from point to point and works with the Nav Mesh to provide accurate pathfinding.</p>
<p>First, locate the GameObject with the name "A*", which can be found in the hierarchy.  There should only be a single component attached to it, called <code>Pathfinder</code>.  If a grid is not seen overlaid across your simulation environment in the Unity Scene window, scroll to the bottom of the "A*" GameObject and ensure the option <code>Show Graphs</code> is set to <code>true</code>.</p>
<p>Once the grid has been located, position it near the center of the simulation environment.</p>
<p>After it is positioned, increase or decrease the grid size so that the entire simulation environment is covered.  This can be done by changing the <code>Width (nodes)</code> and <code>Depth (nodes)</code> settings on the <code>Pathfinder</code> component.</p>
<p>The grid should encompass the entire simulation environment, but it should not be any larger than necessary.  Massively large grids are slower and less accurate than smaller ones.</p>
<p>There are other settings on the <code>Pathfinder</code> that affect how the agents' pathfinding works, but these are all considered <a href="..#advanced-user-settings"><strong>ADVANCED USER SETTINGS</strong></a> and should only be changed if the user is absolutely certain of what they are doing.</p>
<h3 id="setting-up-the-simulation-camera">Setting up the Simulation Camera</h3>
<p>Whenever a new environment for a simulation is created, the camera that views the simulation environment must be configured so all parts of the simulation are viewable.  See <a href="../config/simulation/camera-controller/">CameraController</a> for details.</p>
<hr />
<h2 id="setting-up-waypoints">Setting up Waypoints</h2>
<p>Due to how the simulation works, waypoints are grouped into two categories:</p>
<ul>
<li>Starting/Ending Waypoints</li>
<li>Main Waypoints</li>
</ul>
<h3 id="setting-up-starting-and-ending-waypoints">Setting up Starting and Ending Waypoints</h3>
<p>To set up the starting and ending waypoints for the simulation, use the <a href="../config/simulation/waypoint-planner/"><code>WaypointPlanner</code> component</a>.</p>
<h3 id="setting-up-main-waypoints">Setting up Main Waypoints</h3>
<p>To set up all main waypoints (any waypoint that is not a starting or ending waypoint), see <a href="../config/waypoints/waypoints/#setting-up-waypoints">Setting up Waypoints</a>.</p>
<hr />
<h2 id="configuring-agent-spawn-rates">Configuring Agent Spawn Rates</h2>
<p>To configure the rate and frequency in which agents spawn over the duration of the simulation, use the <a href="../config/simulation/agent-spawn-config/"><code>AgentSpawnConfig</code> component</a>.</p>
<hr />
<h2 id="pathfinding-and-queue-formation-influencing">Pathfinding and Queue Formation Influencing</h2>
<p>One way to influence how agents pathfind from waypoint to waypoint and how queues are formed while agents wait for waypoints is with the <a href="../config/simulation/penalty-area/"><code>PenaltyArea</code> object</a>.</p>
<hr />
<h2 id="time-control">Time Control</h2>
<p>For more details about how to change the time scale of a simulation, see <a href="../config/simulation/time-control/">Time Control</a>.</p>
<hr />
<h2 id="metrics">Metrics</h2>
<p>To view and analyze metrics relating to the global state of the simulation, see <a href="../metrics/global-metrics/">Global Metrics</a>.</p>
<p>To view metrics specific to a single agent or waypoint, see <a href="../metrics/specific-metrics/">Specific Metrics</a>.</p>
<p>To view visualizations of connections between waypoints and connections between a waypoint and it's sublocations, see <a href="../metrics/visualizations/">Visualizations</a>.</p>
<hr />
<h2 id="savingloading-simulation-recordings">Saving/Loading Simulation Recordings</h2>
<p>To save and load simulation recordings, see <a href="../recording/simulation-setup/">Saving/Loading</a>.</p>
<hr />
<h2 id="playback-and-alerts">Playback and Alerts</h2>
<p>To view simulation playback history and alert flags, see <a href="../recording/playback/">Playback</a>.</p>
<p>To set up alerts for specific waypoints, see <a href="../config/waypoints/waypoints/#setting-up-alerts">Waypoint Alerts</a>.</p>
<hr />
<h2 id="tips">Tips</h2>
<ul>
<li>Never change <strong>anything</strong> while the simulation is running, as this can cause errors. Also, any changes made while the simulation is running are reverted to their origin values when the simulation is stopped.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="About"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../config/simulation/agent-spawn-config/" class="btn btn-neutral float-right" title="AgentSpawnConfig">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../config/simulation/agent-spawn-config/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
